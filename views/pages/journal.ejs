<!DOCTYPE html>
<html>
  <head>
      <meta charset='utf-8'>
      <title>Ripple Journal</title>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
      <link rel='stylesheet' href='/stylesheets/journalstyle.css'>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  </head>

  <body>

    <h1>Ripple</h1>
    <h3>Journal</h3>

<br><br>
    <div class="container">

      <div id= "page0" class="jumbotron pages">
        <h4 class="display-5"><%= rows[0].dt %></h4>

        <button class="btn btn-primary forward" type="button" data-next="1" data-current="0"> Next Page</button>
      
        <hr class="my-4">

        <% if(rows[0].category == "quote"){ %>

        <blockquote class="blockquote text-center">
          <p class="mb-0"><%= rows[0].journal %></p>
          <footer class="blockquote-footer">Someone famous in <cite title="Source Title">Source Title</cite></footer>
        </blockquote>

        <% } %>

        <p><%= rows[0].journal %></p>

      </div>

      <div id= "page1" class="jumbotron pages hidden" >
        <h4 class="display-5"><%= rows[1].dt%></h4>
      
        <button class="btn btn-primary forward" type="button" data-next="2" data-current="1"> Next Page</button>
        <button class="btn btn-primary back" type="button"  data-back="0" data-current="1"> Back</button>
      
        <hr class="my-4">

        <% if(rows[0].category == "quote"){ %>

        <blockquote class="blockquote text-center">
          <p class="mb-0"><%= rows[1].journal %></p>
          <footer class="blockquote-footer">Someone famous in <cite title="Source Title">Source Title</cite></footer>
        </blockquote>
          
        <% } %>
        
        <p><%= rows[1].journal %></p> 


      </div>

      <div id= "page2" class="jumbotron pages hidden" >
        <h4 class="display-5"><%= rows[2].dt %></h4>

        <button class="btn btn-primary back" type="button"  data-back="1" data-current="2"> Back</button>
      
        <hr class="my-4">

        <% if(rows[0].category == "quote"){ %>

        <blockquote class="blockquote text-center">
          <p class="mb-0"><%= rows[2].journal %></p>
          <footer class="blockquote-footer">Someone famous in <cite title="Source Title">Source Title</cite></footer>
        </blockquote>
          
        <% } %>
        
        <p><%= rows[2].journal %></p> 


      </div>

    </div>


      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

      <script>
        function flip(curr, next){
          console.log("here")
          $("#page"+curr).animate({left: '-150%'}, 500, function() {
            $(this).hide();
            $("#page"+next).removeClass('hidden').animate({left: '20%'},200, function(){}).show();
          })
        };

        function flipBack(curr, prev){
          console.log("here")
          $("#page"+curr).animate({left: '-150%'}, 500, function() {
            $(this).hide();
            $("#page"+prev).removeClass('hidden').animate({left: '20%'},200, function(){}).show();
          })
        };
        			  
        $(document).ready(function() { // Modified code from http://jsfiddle.net/ksparakis/wgwbq/
          
          var numpages = 3;
          var start = 0;
  
          for(var i=0;i < numpages;i++)
          {
            var page = "#page"+i;

            if(i != start){
              $(page).hide(); 
            }
          }

          $('.forward').click(function() {
            flip($(this).data('current'), $(this).data('next'));
          });
          
          $('.back').click(function() {
            flipBack($(this).data('current'), $(this).data('back'));
          });


        });

  
        </script>
  </body>